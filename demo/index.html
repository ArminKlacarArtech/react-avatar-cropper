<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>REACT Avatar Cropper</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/sublime.css">
    <link rel="stylesheet" href="css/stars.css">
    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Home</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="about.html">Demo</a>
                    </li>
                    <li>
                        <a href="post.html">Docs</a>
                    </li>
                    <li>
                        <a href="contact.html">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Set your background image for this header on the line below. -->
    <div id="bg"></div>
    <div style="position:absolute;top:-8em" onload="init();" id="header"></div>
    <header class="intro-header" style="height:60vh">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-2 col-md-10 col-md-offset-2">
                    <div class="site-heading">
                        <h1 class="blink-me">Avatar Cropper</h1>
                        <hr class="small">
                        <span class="subheading">End all solution for client side image cropping using REACT.js</span>
                    </div>
                </div>
            </div>
        </div>

    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
        <div class="col-md-4 col-md-offset-1">
            <div class="profile">
                <div class="pic">
                    <div class="img"><img src="http://media2.giphy.com/media/fWrorpy7Jrlvi/200w_s.gif"/></div>
                    <i class="fa fa-plus"></i>
                    <i class="fa fa-check"></i>
                </div>
                <h4>Profile Name</h4>
                <p>A short description or title</p>
            </div>
        </div>
            <div class="col-md-6">

            <ul class="sublime">
                  <li class="buttons"></li>
                  <li><span class="gray">// require the component...</span><br><span class="red">var </span> AvatarCropper <span class="red">=</span> require(<span class="blue">"react-avatar-cropper");</span></li>
                  <li><span class="gray">// and in the render function of wherever you please...</span></li>
                  <li><span class="purple">render</span>:<span class="red"> function</span>() {<br><span class="red">return</span> (<br><span class="red">&nbsp;&nbsp;&nbsp;<</span>AvatarCropper<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image<span class="red">=</span><span class="blue">"http://placekitten.com/1920/900"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width<span class="red">=</span>{<span class="blue">400</span>}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height<span class="red">=</span>{<span class="blue">400</span>}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onComplete<span class="red">=</span>{<span class="orange">this</span>finishCropping}<br>&nbsp;&nbsp;&nbsp;/<span class="red">></span><br>&nbsp;&nbsp;);<br>});
                  </li>
                  </ul>
                <hr>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <div class="post-preview">
                    <a href="">
                        <h2 class="post-title">
                            Readme
                        </h2>
                    </a>
                    <p class="post-meta">Posted by <a href="#">Justin Schiff</a> on June 8, 2015</p>
                    <p>React Avatar Cropper is aiming to be the end all be all complete solution for facebook style avatar cropping. It is this components responsibility to be able to crop an image to a square ratio and provide the cropped data back to the calling component.</p>
                </div>
                <hr>
                <!-- Pager -->
              <!--   <ul class="pager">
                    <li class="next">
                        <a href="#">Older Posts &rarr;</a>
                    </li>
                </ul> -->
                </div>
            </div>

            </div> <!-- container -->
    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a href="https://twitter.com/AmbientRev">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/justin.schiff.12?fref=ts">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/DropsOfSerenity">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; React Avatar Cropper 2015</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.js"></script>
    <script src="js/logo.js"></script>
    <script src="js/blink.js"></script>-->
    <script type="text/javascript">
  var refreshDuration = 10000;
  var refreshTimeout;
  var numPointsX;
  var numPointsY;
  var unitWidth;
  var unitHeight;
  var points;

  function onLoad()
  {
      var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      svg.setAttribute('width',window.innerWidth);
      svg.setAttribute('height',window.innerHeight);
      document.querySelector('#bg').appendChild(svg);

      var unitSize = (window.innerWidth+window.innerHeight)/20;
      numPointsX = Math.ceil(window.innerWidth/unitSize)+1;
      numPointsY = Math.ceil(window.innerHeight/unitSize)+1;
      unitWidth = Math.ceil(window.innerWidth/(numPointsX-1));
      unitHeight = Math.ceil(window.innerHeight/(numPointsY-1));

      points = [];

      for(var y = 0; y < numPointsY; y++) {
          for(var x = 0; x < numPointsX; x++) {
              points.push({x:unitWidth*x, y:unitHeight*y, originX:unitWidth*x, originY:unitHeight*y});
          }
      }

      randomize();

      for(var i = 0; i < points.length; i++) {
          if(points[i].originX != unitWidth*(numPointsX-1) && points[i].originY != unitHeight*(numPointsY-1)) {
              var topLeftX = points[i].x;
              var topLeftY = points[i].y;
              var topRightX = points[i+1].x;
              var topRightY = points[i+1].y;
              var bottomLeftX = points[i+numPointsX].x;
              var bottomLeftY = points[i+numPointsX].y;
              var bottomRightX = points[i+numPointsX+1].x;
              var bottomRightY = points[i+numPointsX+1].y;

              var rando = Math.floor(Math.random()*2);

              for(var n = 0; n < 2; n++) {
                  var polygon = document.createElementNS(svg.namespaceURI, 'polygon');

                  if(rando==0) {
                      if(n==0) {
                          polygon.point1 = i;
                          polygon.point2 = i+numPointsX;
                          polygon.point3 = i+numPointsX+1;
                          polygon.setAttribute('points',topLeftX+','+topLeftY+' '+bottomLeftX+','+bottomLeftY+' '+bottomRightX+','+bottomRightY);
                      } else if(n==1) {
                          polygon.point1 = i;
                          polygon.point2 = i+1;
                          polygon.point3 = i+numPointsX+1;
                          polygon.setAttribute('points',topLeftX+','+topLeftY+' '+topRightX+','+topRightY+' '+bottomRightX+','+bottomRightY);
                      }
                  } else if(rando==1) {
                      if(n==0) {
                          polygon.point1 = i;
                          polygon.point2 = i+numPointsX;
                          polygon.point3 = i+1;
                          polygon.setAttribute('points',topLeftX+','+topLeftY+' '+bottomLeftX+','+bottomLeftY+' '+topRightX+','+topRightY);
                      } else if(n==1) {
                          polygon.point1 = i+numPointsX;
                          polygon.point2 = i+1;
                          polygon.point3 = i+numPointsX+1;
                          polygon.setAttribute('points',bottomLeftX+','+bottomLeftY+' '+topRightX+','+topRightY+' '+bottomRightX+','+bottomRightY);
                      }
                  }
                  polygon.setAttribute('fill','rgba(0,0,0,'+(Math.random()/3)+')');
                  var animate = document.createElementNS('http://www.w3.org/2000/svg','animate');
                  animate.setAttribute('fill','freeze');
                  animate.setAttribute('attributeName','points');
                  animate.setAttribute('dur',refreshDuration+'ms');
                  animate.setAttribute('calcMode','linear');
                  polygon.appendChild(animate);
                  svg.appendChild(polygon);
              }
          }
      }

      refresh();

  }

  function randomize() {
      for(var i = 0; i < points.length; i++) {
          if(points[i].originX != 0 && points[i].originX != unitWidth*(numPointsX-1)) {
              points[i].x = points[i].originX + Math.random()*unitWidth-unitWidth/2;
          }
          if(points[i].originY != 0 && points[i].originY != unitHeight*(numPointsY-1)) {
              points[i].y = points[i].originY + Math.random()*unitHeight-unitHeight/2;
          }
      }
  }

  function refresh() {
      randomize();
      for(var i = 0; i < document.querySelector('#bg svg').childNodes.length; i++) {
          var polygon = document.querySelector('#bg svg').childNodes[i];
          var animate = polygon.childNodes[0];
          if(animate.getAttribute('to')) {
              animate.setAttribute('from',animate.getAttribute('to'));
          }
          animate.setAttribute('to',points[polygon.point1].x+','+points[polygon.point1].y+' '+points[polygon.point2].x+','+points[polygon.point2].y+' '+points[polygon.point3].x+','+points[polygon.point3].y);
          animate.beginElement();
      }
      refreshTimeout = setTimeout(function() {refresh();}, refreshDuration);
  }

  function onResize() {
      document.querySelector('#bg svg').remove();
      clearTimeout(refreshTimeout);
      onLoad();
  }

  window.onload = onLoad;
  window.onresize = onResize;
    </script>

</body>

</html>
